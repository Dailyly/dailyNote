/**
 * level2homepage - level-2
 * @authors jsc
 * @version v1.0.0
 * @link 
 * @license ISC
 */
define("dist/app",["public/clientapi.js","links/renderfn.js","public/resetsize.js","public/interactive.js","stocks/market.js","stocks/stocks.js","stocks/stockpool.js","chart/scqr.js","chart/zqxy.js","vote/vote.js","info/slideshow.js","info/info.js"],function(require,exports,module){function refreshScqr(){var e=clientApi.judgeIntime(["08:55","11:35"])||clientApi.judgeIntime(["12:55","15:05"]),t=clientApi.getTradingDay(),a=t==clientApi.serverTime();a&&e&&0===$(".scqr-box").find(".title-active").index()?scqrModule.init():a&&e&&zqxyModule.init()}function refreshPool(){var e=clientApi.judgeIntime(["09:20","11:40"])||clientApi.judgeIntime(["12:50","15:20"]),t=clientApi.getTradingDay(),a=t==clientApi.serverTime();a&&e&&$('[data-tab="pool"]').hasClass("title-active")&&stockPool.getStockCode()}var clientApi=require("public/clientapi.js");clientApi.init(),clientApi.setVersion();var renderfn=require("links/renderfn.js");renderfn.init();var appVersion=renderfn.appVersion;"referintell"==appVersion?$(".logo").addClass("logo-znb"):"lightning"==appVersion?$(".logo").addClass("logo-sdb"):"cloud"==appVersion?$(".logo").addClass("logo-ydb"):"thousand"==appVersion?$(".logo").addClass("logo-jsb"):$(".logo").addClass("logo-jcb"),$(window).height()>840&&$("body").addClass("larger-size");var resetSize=require("public/resetsize.js");resetSize.init();var interactive=require("public/interactive.js");interactive.init();var indexModule=require("stocks/market.js"),stocksModule=require("stocks/stocks.js"),stockPool=require("stocks/stockpool.js"),isClientInitComplete=!1,initTimer=setInterval(function(){isClientInitComplete||clientApi.thsQuote.request({code:"1A0001,399001,399006",type:"NEW",onready:function(){var params={code:"1A0001,399001,399006",type:"NEW"},tmpStr=clientApi.thsQuote.getData2(params),tmpObj=eval("("+tmpStr+")"),codeArr=[];$.each(tmpObj,function(e,t){codeArr.push(e)}),3===codeArr.length&&(isClientInitComplete=!0,clearInterval(initTimer),initTimer=null,indexModule.init(),stocksModule.init(),stockPool.init())}})},200),scqrModule=require("chart/scqr.js"),zqxyModule=require("chart/zqxy.js");scqrModule.init();var voteModule=require("vote/vote.js");voteModule.init();var picAd=require("info/slideshow.js");picAd.init();var userInfo=require("info/info.js");userInfo.init();var checkSelfStocks=function(isback){var stocksStr=clientApi.thsPassport.selfStocks(),_selfStocks=eval(stocksStr);if(stocksModule.selfStocks.join(",")!=_selfStocks.join(",")||isback){stocksModule.selfStocks=_selfStocks;var stockPoolCode=[];$("#stockpool_container tr").each(function(e,t){stockPoolCode.push($(this).attr("data-code"))}),$.each(stockPoolCode,function(e,t){stocksModule.selfStocks.join(",").indexOf(t)!=-1?$('#stockpool_container tr[data-code="'+t+'"] td').eq(0).removeClass("yellow"):$('#stockpool_container tr[data-code="'+t+'"] td').eq(0).addClass("yellow")}),stocksModule.fillstockName(),stocksModule.requestCur()}},scqrTimer=null,poolTimer=null,checkZxgTimer=null,isInPage=!0,isRuning=!0,backHomePage=function(){checkSelfStocks(!0),$('[data-tab="pool"]').hasClass("title-active")&&stockPool.getStockCode(),indexModule.reqFuturesQuote.request(),indexModule.reqIndexQuote.request(),voteModule.clearIntervalRequest(),voteModule.init(),userInfo.clearLoadTabInterval(),userInfo.initSecond(),clearInterval(scqrTimer),clearInterval(checkZxgTimer),clearInterval(poolTimer),refreshScqr(),scqrTimer=setInterval(function(){isInPage&&refreshScqr()},6e4),checkZxgTimer=setInterval(function(){isInPage&&checkSelfStocks()},3e3),refreshPool(),poolTimer=setInterval(function(){isInPage&&refreshPool()},6e5),isRuning=!0},leaveHomepage=function(){stockPool.unregisterPush(),clearInterval(scqrTimer),clearInterval(checkZxgTimer),clearInterval(poolTimer),stocksModule.stocksThsQuote.unregisterPush(),null!=indexModule.reqFuturesQuote&&indexModule.reqFuturesQuote.unregisterPush(),null!=indexModule.reqIndexQuote&&indexModule.reqIndexQuote.unregisterPush(),voteModule.clearIntervalRequest(),userInfo.clearLoadTabInterval(),isRuning=!1},inPageTimer=null;try{external.registerEvent({onshow:function(e){e?(isInPage=!0,isRuning||($("#stocks_container").scrollTop(0),clearTimeout(inPageTimer),inPageTimer=setTimeout(function(){backHomePage()},200))):(isInPage=!1,clearTimeout(inPageTimer),setTimeout(function(){isInPage||leaveHomepage()},3e3))}})}catch(e){}scqrTimer=setInterval(function(){isInPage&&refreshScqr()},6e4),poolTimer=setInterval(function(){isInPage&&refreshPool()},6e5),checkZxgTimer=setInterval(function(){isInPage&&checkSelfStocks()},3e3)}),define("public/clientapi.js",[],function(e,t,a){var i={thsQuote:null,thsCache:null,thsUtil:null,thsPassport:null,init:function(){var e=this;e.thsQuote=external.createObject("Quote"),e.thsCache=external.createObject("Cache"),e.thsUtil=external.CreateObject("Util"),e.thsPassport=external.createObject("Passport")},version:"",version42:"8.40.30",version60:"8.50.60",setVersion:function(e){e="brief";var t="E020.00.00";try{var a=external.createObject("Util");t=a.getHxVer()}catch(e){}if("brief"==e){var i=t.split(".");t=i[0].substr(3)+"."+i[1]+"."+i[2]}this.version=t},getVersion:function(){return this.version},getClientVersion:function(){var e=this,t="";try{t=e.thsUtil.getHxVer()}catch(e){t=""}""!=t&&"undefined"!=typeof t||(t="E020.00.00");var a=t.split(".");return a[0].substr(3)+""+a[1]+a[2]},judgeIntime:function(e){var t;try{var a=this.thsQuote.getServerTime();t=new Date(1e3*a)}catch(e){t=new Date}var i=60*t.getHours()+t.getMinutes(),s=e[0].split(":"),o=e[1].split(":"),n=60*parseFloat(s[0],10)+parseFloat(s[1],10),r=60*parseFloat(o[0],10)+parseFloat(o[1],10);return i>=n&&i<=r},versionCompare:function(e,t){var a=parseInt(e.replace(/\./g,"")),i=parseInt(t.replace(/\./g,"")),s=!1;return a<i&&(s=!0),s},serverTime:function(e){e=e||"";var t;try{var a=this.thsQuote.getServerTime();t=new Date(1e3*a)}catch(e){t=new Date}var i=t.getFullYear(),s=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1).toString(),o=t.getDate()<10?"0"+t.getDate():t.getDate(),n=i+e+s+e+o;return n},serverHour:function(e){e=e||"";var t;try{var a=this.thsQuote.getServerTime();t=new Date(1e3*a)}catch(e){t=new Date}var i=(t.getHours()<10?"0"+t.getHours():t.getHours()).toString(),s=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()).toString(),o=i+e+s;return o},getTradingDay:function(){var e=this.serverTime(),t=this.thsQuote.getSHTradeDate(e);return t}};a.exports=i}),define("links/renderfn.js",["public/public.js","public/clientapi.js","public/resetsize.js"],function(e,t,a){var i=e("public/public.js"),s=e("public/clientapi.js"),o=e("public/resetsize.js"),n={appVersion:"",init:function(){this.appVersion=this.getVersion(),this.loadFunctionList()},getVersion:function(){var e;try{e=s.thsPassport.get("sid")}catch(t){e="7,10101111011,40;44,11,40;6,1,40;5,1,40;"}var t=e.split(";"),a={};for(var i in t){var o=t[i].split(",")[0];if(o){var n=t[i].split(",")[1],r=n.split("");for(var l in r){var c=r[l],d=o+":"+(parseInt(l)+1);a[d]=parseInt(c)}}}var u="base";return 1==a["58:4"]&&a["8:13"]?"referintell":1==a["36:16"]&&a["8:13"]?"lightning":1==a["36:1"]&&a["36:16"]?"base":1==a["36:1"]&&a["8:13"]?"cloud":1==a["36:1"]?"thousand":u},renderFunctionList:function(e){var t=e.config||{},a=e.cate||{},i=e.app||{},s=t.charact||0,n=t.core||0,r=t.charactname||"",l=t.corename||"",c="";""!==r&&$("#fnindex_name").text(r),"object"==typeof a[s]?($.each(a[s],function(e,t){if("undefined"!=typeof i[t])try{var a=i[t].name||"",s=i[t].open_style||0,o=i[t].url_info||"",n=(i[t].version||"",i[t].tid||""),r=i[t].topicon||0,l=i[t].l2_logo||"images/logo.jpg",d="";d="1"==r?'<i class="icon icon-new"></i>':"2"==r?'<i class="icon icon-hot"></i>':"";var u="";(e+1)%6===0&&(u="nomargin"),c+='<a href="###" class="fn-btn '+u+'" taid="'+n+'" openStyle="'+s+'" urlInfo="'+o+'">'+d+'<b class="fnicon" style="background-image:url('+l+');"></b><p>'+a+"</p></a>"}catch(e){}}),$("#fnindex_content").html(c)):($("#fnindex_content").hide(),$("#cache_fnindex").show());var d="";""!==l&&$("#fnselect_name").text(l),"object"==typeof a[n]?($.each(a[n],function(e,t){if("undefined"!=typeof i[t])try{var a=i[t].name||"",s=i[t].open_style||0,o=i[t].url_info||"",n=(i[t].version||"",i[t].tid||""),r=i[t].topicon||0,l=i[t].l2_logo||"images/logo.jpg",c="";c="1"==r?'<i class="icon icon-new"></i>':"2"==r?'<i class="icon icon-hot"></i>':"";var u="";(e+1)%6===0&&(u="nomargin"),d+='<a href="###" class="fn-btn '+u+'" taid="'+n+'" openStyle="'+s+'" urlInfo="'+o+'">'+c+'<b class="fnicon" style="background-image:url('+l+');"></b><p>'+a+"</p></a>"}catch(e){}}),$("#fnselect_content").html(d)):($("#fnselect_content").hide(),$("#cache_fnselect").show()),o.changeSize()},loadFunctionList:function(){var e=this,t=e.appVersion+"new",a="http://appcenter.10jqka.com.cn/api/level2/version/"+t+"/return/jsonp/";i.ajaxJsonp({url:a,jsonpCallback:"appcentercallback",callback:function(t){e.renderFunctionList(t)},errorCallback:function(){$("#fnindex_content").hide(),$("#fnselect_content").hide(),$("#cache_fnindex").show(),$("#cache_fnselect").show()}})}};a.exports=n}),define("public/resetsize.js",[],function(e,t,a){var i={init:function(){var e=this;e.changeSize(),$(window).on("resize",function(){e.resizeEvent(e.changeSize,180)()})},resizeTimer:null,resizeEvent:function(e,t,a){var i=this;return a=a||this,function(){clearTimeout(i.resizeTimer),i.resizeTimer=setTimeout(function(){e.apply(a,arguments)},t||180)}},changeSize:function(){var e=($(window).height(),$(window).width());e<=1280&&(e=1280),$("body").width(e),$(".wrap-top-nav li").width(Math.floor((e-10)/7)),$(".fn-btn").width(Math.floor((e-365-310-10-25-12)/6))}};a.exports=i}),define("public/interactive.js",["public/clientapi.js","public/clientopen.js","public/storage.js","stocks/ipo.js","stocks/stockpool.js","chart/scqr.js","chart/zqxy.js"],function(require,exports,module){var clientApi=require("public/clientapi.js"),clientOpen=require("public/clientopen.js"),storage=require("public/storage.js"),ipoModule=require("stocks/ipo.js"),stockPool=require("stocks/stockpool.js"),scqrModule=require("chart/scqr.js"),zqxyModule=require("chart/zqxy.js"),interactive={init:function(){this.theEvent()},theEvent:function(){var self=this;$("tr").live("click",function(){$("tr").removeClass("tr-select"),$(this).addClass("tr-select");var e=$(this).parent("tbody").attr("data-type");"index"===e?TA.log({id:"l2sy_57d618a7_412"}):"futures"===e?TA.log({id:"l2sy_57d618fa_987"}):"stockpool"===e?TA.log({id:"l2sy_57d61b55_671"}):"selfstocks"===e&&TA.log({id:"l2sy_57d61b08_869"})}),$(".wrap-top-nav").on("click","li",function(){var e=$(this).index();switch(e){case 0:clientOpen.switchPage(392),TA.log({id:"l2sy_57d61935_547"});break;case 1:clientOpen.switchPage(4341),TA.log({id:"l2sy_57d6195f_360"});break;case 2:clientOpen.switchPage(982),TA.log({id:"l2sy_57d61988_472"});break;case 3:clientOpen.switchPage(4378),TA.log({id:"l2sy_57d619b4_463"});break;case 4:window.open("http://t.10jqka.com.cn/circle/17499/"),TA.log({id:"l2sy_57d619d8_319"});break;case 5:clientOpen.switchPage(4197),TA.log({id:"l2sy_57d619f8_981"});break;case 6:clientOpen.switchPage(1246),TA.log({id:"l2sy_57d61aad_415"})}}),$(".wrap-top-nav li").hover(function(){$(this).addClass("nav-hover")},function(){$(this).removeClass("nav-hover")}),$(".course-tab-line-title").eq(1).on("click",function(){TA.log({id:"l2sy_57d62261_685"}),window.open("http://school.10jqka.com.cn/vip/play_18740.html")}),$(".course-tab-line-title").eq(2).on("click",function(){TA.log({id:"l2sy_57d62261_685"}),window.open("http://school.10jqka.com.cn/vip/play_18714.html")}),$(".course-tab-line-title").eq(3).on("click",function(){TA.log({id:"l2sy_57d62261_685"}),window.open("http://school.10jqka.com.cn/vip/play_18637.html")}),$(".course-more").on("click",function(){TA.log({id:"l2sy_57d62261_685"}),window.open("http://school.10jqka.com.cn/vip/level/")}),$(".vote-rise-btn").hover(function(){var e=storage.getFileContent("voted.log");e===!1||"0"==e?$(this).addClass("vote-onrise-btn"):$(this).addClass("vote-rised-btn")},function(){var e=storage.getFileContent("voted.log");e!==!1&&"0"!=e||$(this).removeClass("vote-onrise-btn")}),$(".vote-fall-btn").hover(function(){var e=storage.getFileContent("voted.log");e===!1||"0"==e?$(this).addClass("vote-onfall-btn"):$(this).addClass("vote-falled-btn")},function(){var e=storage.getFileContent("voted.log");e!==!1&&"0"!=e||$(this).removeClass("vote-onfall-btn")}),$(".fn-btn").live("click",function(){var e=$(this).attr("urlInfo"),t=$(this).attr("openStyle"),a=$(this).attr("taid");clientOpen.openApp(e,t),TA.log(a)}),$(".portrait").on("click",function(){var e=clientApi.thsPassport.get("userid");clientOpen.openApp("http://i.10jqka.com.cn/"+e+"/infocenter/grzl#avatar",5),TA.log({id:"l2sy_57d61d2e_69"})}),$(".title>.title-item").on("click",function(){if(!$(this).hasClass("title-active")){$(this).addClass("title-active").siblings().removeClass("title-active");var e=$(this).index(),t=$(this).attr("data-tab");"scqr"==t?(scqrModule.init(),TA.log({id:"l2sy_57d61bc2_89"})):"zqxy"==t?(zqxyModule.init(),TA.log({id:"l2sy_57d61be8_690"})):"pool"==t?stockPool.getStockCode():"ipo"==t&&(ipoModule.init(),TA.log({id:"l2sy_57d61b73_747"})),$(this).parent(".title").next("div").find(".tab-box").eq(e).show().siblings(".tab-box").hide()}}),$(".tiwen").on("click",function(){$(".wrap-ask").show(),TA.log({id:"l2sy_57d61dd3_180"})}),$(".ask-close").on("click",function(){$(".wrap-ask").hide()});var placeholder="请输入您的问题";$("#question-input").on("focus",function(){$("#question-input").val()==placeholder&&$("#question-input").val("")}),$("#question-input").on("blur",function(){""===$("#question-input").val()&&$("#question-input").val(placeholder)}),$("#question-input").on("keyup",function(e){e=e||window.event;var t=$.trim($("#question-input").val()),a=80;t.length>a&&(t=t.substring(0,a),$("#question-input").val(t))}),$("#ask_btn").on("click",function(){$("#question-input").val()!==placeholder&&(self.askQuestion(),TA.log({id:"110"}))}),$(".apply-btn").live("click",function(){clientApi.thsUtil.setNewWeituoBtnClicked("button_clicked=41")}),$("[data-stat]").live("click",function(){var e=$(this).attr("data-stat");TA.log(e)}),$("[taid]").live("click",function(){var e=$(this).attr("taid");TA.log(e)}),$("tr").live("dblclick",function(){var code=$(this).attr("data-code"),$parentTbody=$(this).parent("tbody").attr("data-type");if("selfstocks"===$parentTbody){var stockList=clientApi.thsPassport.selfStocks(),stockListArr=eval(stockList);clientApi.thsQuote.syncStockList({id:379,code:code,stocklist:stockListArr.join("|")}),TA.log({id:"l2sy_57d61b08_869"})}else{if(""==code||!code)return;clientApi.thsQuote.switchPage({id:379,code:code}),"index"===$parentTbody?TA.log({id:"l2sy_57d618a7_412"}):"futures"===$parentTbody?TA.log({id:"l2sy_57d618fa_987"}):"stockpool"===$parentTbody&&TA.log({id:"l2sy_57d61b55_671"})}})},askQuestion:function(){var e=$.trim($("#question-input").val());e=encodeURI(e);var t="http://sp.10jqka.com.cn/liuyan/index/index/projectid/74/question/"+e+"/";clientApi.thsUtil.openURL(t,9)}};module.exports=interactive}),define("stocks/market.js",["public/clientapi.js","public/clientquote.js"],function(e,t,a){var i=e("public/clientapi.js"),s=e("public/clientquote.js"),o={isClientInitComplete:!1,init:function(){var e=this;e.request(),e.requestFutures()},reqIndexQuote:null,request:function(){var e=this,t="1A0001,399001,399006",a="ZQMC,NEW,ZHANGDIEFU,money,SETTLE,PRE,203,209,204,210",i=function(e){var a=[],i="";$(".wrap-left").find(".tr-select").length&&(i=$(".wrap-left").find(".tr-select").attr("data-code")),$.each(t.split(","),function(t,s){var o=e[s].ZQMC;"NUL"!=o&&o||(o="--");var n="--";e[s].NEW&&"NUL"!=e[s].NEW&&(n=parseFloat(e[s].NEW).toFixed(2));var r="--",l="--";"NUL"!=e[s].ZHANGDIEFU&&e[s].ZHANGDIEFU&&(r=parseFloat(e[s].ZHANGDIEFU).toFixed(2),l=parseFloat(e[s].ZHANGDIEFU).toFixed(2)+"%");var c="--";"NUL"!=e[s].money&&e[s].money&&(c=(parseFloat(e[s].money)/1e8).toFixed(2)+"亿");var d="--",u=0;if("NUL"!=e[s][203]&&"NUL"!=e[s][209]&&"NUL"!=e[s][204]&&"NUL"!=e[s][210]){var p=parseFloat(e[s][203]),h=parseFloat(e[s][209]),f=parseFloat(e[s][204]),m=parseFloat(e[s][210]),d=p+h-f-m;d=(d/1e8).toFixed(2),u=d,isNaN(d)?(d="--",u="--"):d+="亿"}var v="";r>0?v="red":r<0&&(v="green");var b="";u>0?b="red":u<0&&(b="green");var g="";s==i&&(g="tr-select");var k='<tr class="'+g+'" data-code="'+s+'"><td class="yellow txt-l pdl8">'+o+'</td><td class="'+v+'">'+n+'</td><td class="'+v+'">'+l+'</td><td class="yellow">'+c+'</td><td class="pdr8 '+b+'">'+d+"</td></tr>";a.push(k)}),$("#index_container").html(a.join(""))},o={stocks:t,quote:a,period:"now",callback:i,isNeedPush:!0,qType:0};try{e.reqIndexQuote=new s(o),e.reqIndexQuote.request()}catch(e){}},getFuturesCode:function(){var e=i.thsUtil.getBlockStockByID(55304),t=e.split(","),a=[];return $.each(t,function(e,t){if(t.indexOf("129")!=-1){var i=t.split(":");i[1].indexOf("IF")!=-1&&(a[0]=i[1]),i[1].indexOf("IH")!=-1&&(a[1]=i[1]),i[1].indexOf("IC")!=-1&&(a[2]=i[1])}}),a},reqFuturesQuote:null,requestFutures:function(){var e=this,t=this.getFuturesCode();code=t.concat("1B0016","1B0905","399300");var a="ZQMC,NEW,QHZDF,QHZD,money,pre,SETTLE",i=function(e){var a=[],i="";$(".market-box").find(".tr-select").length&&(i=$(".market-box").find(".tr-select").attr("data-code"));var s=e["1B0016"].NEW||"NUL",o=e["1B0905"].NEW||"NUL",n=e[399300].NEW||"NUL";$.each(t,function(t,r){var l=e[r].ZQMC;"NUL"!=l&&l||(l="--");var c=parseFloat(e[r].NEW),d=parseFloat(e[r].NEW).toFixed(1);isNaN(c)&&(d="--",c="--");var u=parseFloat(e[r].QHZDF).toFixed(2),p=parseFloat(e[r].QHZDF).toFixed(2)+"%";isNaN(u)&&(u="--",p="--");var h=parseFloat(e[r].pre),f=parseFloat(e[r].SETTLE),m="--",v="--";"--"!=c&&"NUL"!=s&&"NUL"!=o&&"NUL"!=n&&(v=r.indexOf("IH")!=-1?c-s:r.indexOf("IC")!=-1?c-o:c-n,v=parseFloat(v).toFixed(1));var b="";v>0?b="red":v<0&&(b="green"),"--"==c||isNaN(f)?"--"==c||isNaN(h)||(m=parseFloat(c-h).toFixed(1)):m=parseFloat(c-f).toFixed(1);var g="";m>0?g="red":m<0&&(g="green");var k="";u>0?k="red":u<0&&(k="green");var $="";r==i&&($="tr-select");var y='<tr class="'+$+'" data-code="'+r+'"><td class="yellow txt-l pdl8">'+l+'</td><td class="'+k+'">'+d+'</td><td class="'+k+'">'+p+'</td><td class="'+g+'">'+m+'</td><td class="pdr8 '+b+'">'+v+"</td></tr>";a.push(y)}),$("#futures_container").html(a.join(""))},o={stocks:code,quote:a,period:"now",callback:i,isNeedPush:!0,qType:1};try{e.reqFuturesQuote=new s(o),e.reqFuturesQuote.request()}catch(e){}}};a.exports=o}),define("stocks/stocks.js",["public/clientapi.js","public/public.js"],function(require,exports,module){var clientApi=require("public/clientapi.js"),publicBase=require("public/public.js"),stocksModule={stocksThsQuote:null,init:function(){var e=this;this.getUserStocks(),this.fillstockName(),this.stocksThsQuote=external.createObject("Quote"),this.requestCur();var t=null;$("#stocks_container").scroll(function(){t&&(clearTimeout(t),t=null),t=setTimeout(function(){e.requestCur()},300)})},selfStocks:[],getUserStocks:function(){var stocksStr=clientApi.thsPassport.selfStocks();this.selfStocks=eval(stocksStr)},getStockName:function(){var self=this,selfStocksStr=this.selfStocks.join(","),selfStockNameStr=clientApi.thsQuote.getData2({code:selfStocksStr,type:"zqmc"}),selfStockName=eval("("+selfStockNameStr+")"),stockNameObj={};return $.each(self.selfStocks,function(e,t){selfStockName[t]&&(stockNameObj[t]=selfStockName[t].zqmc)}),stockNameObj},fillstockName:function(){var e=this,t=this.getStockName(),a="";$.each(e.selfStocks,function(e,i){t[i]&&(a+='<tr data-code="'+i+'"><td class="txt-l pdl8">'+t[i]+'</td><td>--</td><td>--</td><td class="yellow">--</td><td class="yellow pdr18">--</td></tr>')}),$("#stocks_container tbody").html(a)},requestCur:function(){var e=this;0!==e.selfStocks.length&&e.getVisibleStocks()},quote:"ZQMC,NEW,ZHANGDIEFU,money,vol,SETTLE,PRE",requestQuote:function(){var e=this,t="ZQMC,NEW,ZHANGDIEFU,money,vol,SETTLE,PRE",a=e.curStockCode.join(","),i={code:a,type:t,period:"now",onready:function(i){e.getData(a,t)}};e.stocksThsQuote.request(i),e.registerPush()},registerPush:function(){var e=this,t=e.curStockCode.join(",");e.stocksThsQuote.registerPush({code:t,onready:publicBase.throttle(e.getData,4e3,e)})},getData:function(stocks,type){var self=this;stocks=self.curStockCode,type=self.quote;var params={code:stocks,mode:"maexact",type:type},rstData=self.stocksThsQuote.getData2(params);rstData=eval("("+rstData+")"),self.renderData(rstData,stocks)},getUnit:function(e,t){t=t||2;var a="";e<0&&(a="-",e=Math.abs(e));for(var i=["万","亿"],s=-1;e>1e4;)e/=1e4,s++;var o="";return s!=-1&&(o=i[s]),0===s&&(t=0),a+e.toFixed(t)+o},renderData:function(e,t){var a=this;$.each(t,function(t,i){var s=parseFloat(e[i].NEW),o=parseFloat(e[i].ZHANGDIEFU),n=parseFloat(e[i].money),r=parseFloat(e[i].vol),l=$("#stocks_container").find('[data-code="'+i+'"]').find("td"),c="";o>0?c="red":o<0&&(c="green"),s=isNaN(s)?"--":parseFloat(s).toFixed(2),o=isNaN(o)?"--":parseFloat(o).toFixed(2)+"%",n=isNaN(n)?"--":a.getUnit(n,2),r=isNaN(r)?"--":a.getUnit(r,2),l.eq(1).removeClass("red green").addClass(c).text(s),l.eq(2).removeClass("red green").addClass(c).text(o),l.eq(3).text(n),l.eq(4).text(r)})},curStockCode:[],getVisibleStocks:function(){var e=this.getVisibleStocksDom(),t=[];$.each(e,function(e,a){t.push(a.attr("data-code"))}),this.curStockCode=t,this.requestQuote()},getVisibleStocksDom:function(){function e(e){if(0!==e.length){var i=0,s=e.length,o=parseInt((s+i)/2),n=!1;do{var r=e.eq(o),l=r.offset().top,c=r.height();if(l-t<-c)i=o;else{if(l-t<=a+c){n=!0;break}s=o}o=parseInt((s+i)/2)}while(o>i&&o<s&&i<s);if(n){for(var d=o;d>=0;d--){var r=e.eq(d),l=r.offset().top,c=r.height();if(!(l-t>=-c&&l-t<=a+c))return d+1}return 0}}}var t=$("#stocks_container").offset().top,a=$("#stocks_container").height(),i=$("#stocks_container tbody tr"),s=e(i);if(void 0===s)return[];for(var o=[],n=s,r=i.length;n<r;n++){var l=i.eq(n),c=l.offset().top,d=l.height();if(!(c-t>=-d&&c-t<=a+d))break;o.push(l)}return o}};module.exports=stocksModule}),define("stocks/stockpool.js",["public/public.js","public/clientapi.js"],function(require,exports,module){var publicBase=require("public/public.js"),clientApi=require("public/clientapi.js"),stockPool={init:function(){var e=this;this.getStockCode(),this.poolThsQuote=external.createObject("Quote"),$(".sortbtn").unbind("click").on("click",function(){var t=this;e.changeSortBy(t)})},stockPoolCode:[],stockPoolObj:{},poolThsQuote:null,isClientInitComplete:!1,getStockCode:function(){var e=this,t="http://vis.10jqka.com.cn/tszbxg/api/homedata/datatype/jsonp/callback/getzb/";publicBase.ajaxJsonp({url:t,jsonpCallback:"getzb",callback:function(t){if(0===t.errorcode){var a=t.result;if(!a||0===a.length)return;var i=[],s={};$.each(a,function(e,t){return $.inArray(t.stockcode,i)!=-1||(i.push(t.stockcode),void(s[t.stockcode]=t.desc))}),e.stockPoolCode=i,e.stockPoolObj=s,e.requestQuote()}},errorCallback:function(){}})},quote:"ZQMC,NEW,ZHANGDIEFU,money,SETTLE,PRE",requestQuote:function(){var e=this;if(0!==e.stockPoolCode.length){var t="ZQMC,NEW,ZHANGDIEFU,money,SETTLE,PRE",a=e.stockPoolCode.join(","),i={code:a,type:t,period:"now",onready:function(i){e.getData(a,t)}};e.poolThsQuote.request(i),e.registerPush()}},registerPush:function(){var e=this,t=e.stockPoolCode.join(",");e.poolThsQuote.registerPush({code:t,onready:publicBase.throttle(e.getData,3600,e)})},unregisterPush:function(){this.poolThsQuote.unregisterPush()},getData:function(stocks,type){var self=this;stocks=self.stockPoolCode.join(","),type=self.quote;var params={code:stocks,mode:"maexact",type:type},rstData=self.poolThsQuote.getData2(params);rstData=eval("("+rstData+")"),self.getSortData(rstData,stocks)},getSortData:function(e,t){var a=this,i=[];$.each(t.split(","),function(t,s){var o=a.stockPoolObj[s]||"--",n=parseFloat(e[s].ZHANGDIEFU);isNaN(n)&&(n=-999);var r=parseFloat(e[s].NEW);isNaN(r)&&(r=-999);var l={code:s,zqmc:e[s].ZQMC||"--",zdf:n,xj:r,money:e[s].money,zb:o};i.push(l)}),a.sortData=i,a.renderData()},renderData:function(){var self=this,data=[];data=self.sortData.length>1?self.sortData.sort(self.sortTableFun(self.sortType,self.sortBy)):self.sortData;var stockPoolHtml=[],selectCode="";$("#stockpool_container").find(".tr-select").length&&(selectCode=$("#stockpool_container").find(".tr-select").attr("data-code"));var stocksStr=clientApi.thsPassport.selfStocks(),selfStocks=eval(stocksStr);$.each(data,function(e,t){var a="NUL"==t.code?"":t.code,i="NUL"==t.zqmc?"--":t.zqmc,s=parseFloat(t.xj).toFixed(2);(isNaN(s)||s==-999)&&(s="--");var o=parseFloat(t.zdf).toFixed(2),n=o+"%";(isNaN(o)||o==-999)&&(o="--",n="--");var r="--";isNaN(t.money)||(r=self.getUnit(parseFloat(t.money),2));var l=t.zb,c="";o>0?c="red":o<0&&(c="green"),"--"!=o&&(o=parseFloat(o).toFixed(2)+"%");var d="";a==selectCode&&(d="tr-select");var u="yellow";$.inArray(a,selfStocks)!=-1&&(u="");var p='<tr class="'+d+'" data-code="'+a+'"><td class="txt-l pdl8 '+u+'">'+i+'</td><td class="'+c+'">'+n+'</td><td class="'+c+'">'+s+'</td><td class="yellow">'+r+'</td><td class="yellow pdr18" data-zb="">'+l+"</td></tr>";stockPoolHtml.push(p)}),$("#stockpool_container").html(stockPoolHtml.join(""))},getUnit:function(e,t){t=t||2;var a="";e<0&&(a="-",e=Math.abs(e));for(var i=["万","亿"],s=-1;e>1e4;)e/=1e4,s++;var o="";return s!=-1&&(o=i[s]),0===s&&(t=0),a+e.toFixed(t)+o},sortBy:"zdf",sortType:"desc",sortData:[],changeSortBy:function(e){var t=this,a=$(e);$(".sortbtn i").hide(),a.attr("isshow")?(a.attr("isShow",""),a.find("i").show(),a.find("i").text("↑"),t.sortType="asc"):(a.attr("isshow","isshow"),a.find("i").show(),a.find("i").text("↓"),t.sortType="desc"),t.sortBy=a.attr("sortby"),t.renderData()},sortTableFun:function(e,t){var a="asc"==e?">":"<";if("zqmc"==t){var i=new Function("a","b","return a."+t+".localeCompare(b."+t+")"+a+"0 ? -1 : 1");return i}var s=new Function("a","b","return a."+t+a+"b."+t+" ? 1 : -1");return s}};module.exports=stockPool}),define("chart/scqr.js",["public/public.js","chart/drawchart.js"],function(e,t,a){var i=e("public/public.js"),s=e("chart/drawchart.js"),o={init:function(){this.request()},request:function(){$.support.cors=!0;var e=this,t="http://hqstats.10jqka.com.cn/scqr.php";i.ajaxJsonp({url:t,jsonpCallback:"scqr",callback:function(t){e.render(t)},errorCallback:function(){e.renderEmpty()}})},renderEmpty:function(){var e=[0,0,0,0,0,0,0,0,0,0,""];s.chartColumn("scqr-container",e,""),$("#scqr_col1_data1").text("--"),$("#scqr_col1_data2").text("--"),$("#scqr_col1_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,"level-0")}),s.chartPie("scqr-pie-1",[0,0],"涨停比"),s.chartPie("scqr-pie-2",[0,0,0],"涨跌比"),$("#scqr_col2_data1").text("--"),$("#scqr_col2_data2").text("--"),$("#scqr_col2_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,"level-0")}),s.chartPie("scqr-pie-3",[0,0],"封板率"),$("#scqr_col3_data1").text("--"),$("#scqr_col3_data2").text("--"),$("#scqr_col3_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,"level-0")}),$("#scqr_starlevel").text("--")},render:function(e){var t=e.data.levels,a=[];$.each(t,function(e,t){a.push(t.all)}),a.push(""),s.chartColumn("scqr-container",a,t);var i=e.data.limitUpDown,o=i.limitUpNum,n=i.limitDownNum,r=i.star,l=[o,n];s.chartPie("scqr-pie-1",l,"涨停比"),$("#scqr_col1_data1").text(o),$("#scqr_col1_data2").text(n);var c="level-"+r;$("#scqr_col1_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,c)});var d=e.data.zhangdie,u=d.upNums,p=d.downNums,h=d.plateNums,f=d.star,m=[u,p,h];s.chartPie("scqr-pie-2",m,"涨跌比"),$("#scqr_col2_data1").text(u),$("#scqr_col2_data2").text(p);var v="level-"+f;$("#scqr_col2_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,v)});var b=e.data.limitUpPercent,g=b.limitUpNum,k=b.everLimitUp,y=b.star,x=[g,k];s.chartPie("scqr-pie-3",x,"封板率"),$("#scqr_col3_data1").text(g),$("#scqr_col3_data2").text(k);var q="level-"+y;$("#scqr_col3_data3").attr("class",function(e,t){return t.replace(/level-\d+/g,q)});var _=-1,t=["极强","强","偏强","偏弱","弱","极弱"];_=$.inArray(e.data.starLevel,t),_==-1?$(".scqr-levels").find("li").removeClass("level-on"):$(".scqr-levels").find("li").eq(_).addClass("level-on").siblings().removeClass("level-on")}};a.exports=o}),define("chart/zqxy.js",["public/public.js","chart/drawchart.js"],function(e,t,a){var i=e("public/public.js"),s=e("chart/drawchart.js"),o={init:function(){this.request()},request:function(){$.support.cors=!0;var e=this,t="http://hqstats.10jqka.com.cn/zqxy.php";i.ajaxJsonp({url:t,jsonpCallback:"zqxy",callback:function(t){e.render(t)},errorCallback:function(){e.renderEmpty()}})},renderEmpty:function(){var e=[0,0,0,0,0,0,0,0,0,0,""];s.chartColumn("zqxy-container",e,""),s.chartPie("zqxy-pie-1",[0,0],"涨跌比"),$("#zqxy_col1_data1").text("--"),$("#zqxy_col1_data2").text("--"),$("#zqxy_col1_data3").text("--"),$("#zqxy_col1_data3").removeClass("green red"),s.chartPie("zqxy-pie-2",[0,0,0],"涨跌比"),$("#zqxy_col2_data1").text("--"),$("#zqxy_col2_data2").text("--"),$("#zqxy_col2_data3").text("--"),$("#zqxy_col2_data3").removeClass("green red"),s.chartPie("zqxy-pie-3",[0,0],"阴阳线"),$("#zqxy_col3_data1").text("--"),$("#zqxy_col3_data2").text("--"),$("#zqxy_col3_data3").text("--"),$("#zqxy_col3_data3").removeClass("green red"),$("#zqxy_starlevel").text("--")},render:function(e){var t=e.data.levels,a=[];$.each(t,function(e,t){a.push(t.all)}),a.push(""),s.chartColumn("zqxy-container",a,t);var i=e.data.preLimitZhangDie,o=i.upNums,n=i.downNums,r=parseFloat(i.profit).toFixed(2)+"%",l=[o,n];s.chartPie("zqxy-pie-1",l,"涨跌比"),$("#zqxy_col1_data1").text(o),$("#zqxy_col1_data2").text(n),$("#zqxy_col1_data3").text(r),$("#zqxy_col1_data3").removeClass("green red"),i.profit>0?$("#zqxy_col1_data3").addClass("red"):i.profit<0&&$("#zqxy_col1_data3").addClass("green");var c=e.data.preZhangDie,d=c.upNums,u=c.downNums,p=c.plateNums,h=parseFloat(c.profit).toFixed(2)+"%",f=[d,u,p];s.chartPie("zqxy-pie-2",f,"涨跌比"),$("#zqxy_col2_data1").text(d),$("#zqxy_col2_data2").text(u),$("#zqxy_col2_data3").text(h),$("#zqxy_col2_data3").removeClass("green red"),c.profit>0?$("#zqxy_col2_data3").addClass("red"):c.profit<0&&$("#zqxy_col2_data3").addClass("green");var m=e.data.openNew,v=m.upNums,b=m.downNums,g=parseFloat(m.profit).toFixed(2)+"%",k=[v,b];s.chartPie("zqxy-pie-3",k,"阴阳线"),$("#zqxy_col3_data1").text(v),$("#zqxy_col3_data2").text(b),$("#zqxy_col3_data3").text(g),$("#zqxy_col3_data3").removeClass("green red"),m.profit>0?$("#zqxy_col3_data3").addClass("red"):m.profit<0&&$("#zqxy_col3_data3").addClass("green");var y=-1,t=["极强","强","偏强","偏差","差","极差"];y=$.inArray(e.data.starLevel,t),y==-1?$(".zqxy-levels").find("li").removeClass("level-on"):$(".zqxy-levels").find("li").eq(y).addClass("level-on").siblings().removeClass("level-on")}};a.exports=o}),define("vote/vote.js",["public/public.js","public/clientapi.js","public/storage.js"],function(e,t,a){var i=e("public/public.js"),s=(e("public/clientapi.js"),e("public/storage.js")),o={prefix:"level2_vote_",fileName:"voted.log",fileDateName:"votedate.log",riseNum:0,fallNum:0,init:function(){var e=this;$("#vote_rise_btn").unbind("click").on("click",function(){var t=s.getFileContent(e.fileName);t===!1||"0"==t?(TA.log({id:"l2sy_57d623b6_356"}),e.getUpdown(1,1)):e.getUpdown(1,1)}),$("#vote_fall_btn").unbind("click").on("click",function(){var t=s.getFileContent(e.fileName);t===!1||"0"==t?(TA.log({id:"l2sy_57d623b6_356"}),e.getUpdown(1,-1)):e.getUpdown(1,-1)}),setTimeout(function(){e.getUpdown(2)},500),e.setIntervalRequest()},getUpdown:function(e,t){var a=this;i.getTradeDayAndNextTradeDay(function(i,s){1==e?a.getToken(i,t):a.getUpdownNum(i)})},getToken:function(e,t){var a=this;$.ajax({type:"GET",url:"http://sp.10jqka.com.cn/api/evaluation/getlevel2token/app/10/key/"+a.prefix+e+"/return/jsonp",cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:"callback",success:function(i){if(0===i.errorcode){var s=i.result;a.updownSave(e,s,t)}},error:function(e){}})},updownSave:function(e,t,a){var i=this,o=i.prefix+e;app=10,$.ajax({type:"GET",url:"http://sp.10jqka.com.cn/api/evaluation/save/return/jsonp/",cache:!1,dataType:"jsonp",
data:{operate:a,key:o,token:t,app:app},jsonpCallback:"callbackofgetevaluations",success:function(t){var o=s.getFileContent(i.fileName);o===!1||"0"==o?alert("投票成功！"):alert("您已经投过票了！"),0===t.errorcode?1===a?($(".vote-rise-btn").addClass("vote-rised-btn"),$(".vote-rise-btn").attr("title","已看涨"),$(".vote-fall-btn").addClass("vote-unfall-btn"),$(".vote-fall-btn").attr("title","已看涨"),s.writeFileContent(i.fileName,"1"),s.writeFileContent(i.fileDateName,e)):($(".vote-rise-btn").addClass("vote-unrise-btn"),$(".vote-rise-btn").attr("title","已看跌"),$(".vote-fall-btn").addClass("vote-falled-btn"),$(".vote-fall-btn").attr("title","已看跌"),s.writeFileContent(i.fileName,"2"),s.writeFileContent(i.fileDateName,e)):1===a?o!==!1&&"0"!=o||($(".vote-rise-btn").attr("title","已看涨"),$(".vote-fall-btn").attr("title","已看涨"),s.writeFileContent(i.fileName,"1"),s.writeFileContent(i.fileDateName,e)):o!==!1&&"0"!=o||($(".vote-rise-btn").attr("title","已看跌"),$(".vote-fall-btn").attr("title","已看跌"),s.writeFileContent(i.fileName,"2"),s.writeFileContent(i.fileDateName,e)),i.getUpdown(2)},error:function(){}})},getUpdownNum:function(e){$("#vote_date").html(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)+" ");var t=this,a=10;key=t.prefix+e,$.ajax({type:"GET",url:"http://sp.10jqka.com.cn/api/evaluation/get/return/jsonp/",cache:!1,dataType:"jsonp",data:{key:key,app:a},jsonpCallback:"callback",success:function(a){if(0===a.errorcode){t.riseNum=a.result.supports,t.fallNum=a.result.oppositions,t.setVoteNumber(t.riseNum,t.fallNum);var i=s.getFileContent(t.fileDateName);(i<e||i===!1)&&(s.writeFileContent(t.fileName,"0"),s.writeFileContent(t.fileDateName,e));var o=s.getFileContent(t.fileName);"1"==o?($(".vote-rise-btn").addClass("vote-rised-btn"),$(".vote-rise-btn").attr("title","已看涨"),$(".vote-fall-btn").addClass("vote-unfall-btn"),$(".vote-fall-btn").attr("title","已看涨")):"2"==o?($(".vote-rise-btn").addClass("vote-unrise-btn"),$(".vote-rise-btn").attr("title","已看跌"),$(".vote-fall-btn").addClass("vote-falled-btn"),$(".vote-fall-btn").attr("title","已看跌")):"0"==o&&($(".vote-rise-btn").removeClass("vote-unrise-btn"),$(".vote-fall-btn").removeClass("vote-falled-btn"),$(".vote-rise-btn").removeClass("vote-rised-btn"),$(".vote-fall-btn").removeClass("vote-unfall-btn"),$(".vote-rise-btn").attr("title","我看涨"),$(".vote-fall-btn").attr("title","我看跌"))}},error:function(){}})},setIntervalRequest:function(){var e=this;e.interval=window.setInterval(function(){i.getTradeDayAndNextTradeDay(function(t,a){e.getUpdownNum(t)})},6e5)},clearIntervalRequest:function(){var e=this;window.clearInterval(e.interval)},setBar:function(e){$(".vote-rise-bar").animate({width:e})},setVoteNumber:function(e,t){var a=this;$("#vote_rise_num").html(e),$("#vote_fall_num").html(t),e+t==0?a.setBar("50%"):a.setBar(Math.floor(e/(e+t)*100)+"%")}};a.exports=o}),define("info/slideshow.js",["public/clientapi.js"],function(e,t,a){var s=e("public/clientapi.js"),o={width:292,height:194,playtime:2e3,count:1,num:0,stop:null,init:function(){var e=this;e.initB()},initB:function(){var e=this;e.version=e.getVersion();var t="144-1235";"cloud"===e.version?t="144-1231":"referintell"===e.version?t="144-1234":"lightning"===e.version?t="144-1232":"base"===e.version?t="144-1235":"thousand"===e.version&&(t="144-1233");var a="http://sp.10jqka.com.cn/ads/api/get/adinfo/"+t+"/return/jsonp";$.ajax({url:a,type:"GET",dataType:"jsonp",jsonp:!1,jsonpCallback:"callback",cache:!0,success:function(t){0===t.errorcode&&("object"==typeof t.result&&$.each(t.result,function(t,a){var i="";e.liNum=a.data.ad.length;for(var s=0;s<=a.data.ad.length-1;s++)i+='<a href="'+a.data.ad[s].ad_url+'" target="_blank" class="slideshow-box-a" taid="l2sy_57d622a9_295"><img class="slideshow-box-img" src="'+a.data.ad[s].image+'"></a>';$("#slideshow_box").html(i)}),setTimeout(function(){e.initA()},300))}})},initA:function(e){var t=this,a=t.getElementsByClassName(document,"slideshow"),i=t.getElementsByClassName(document,"slideshow-box"),s=i[0].getElementsByTagName("img"),o=s.length;t.count=o-1;var n,r=document.createElement("ul");r.className="adul";for(var l=0;l<o&&!(o<=1);l++)n=document.createElement("li"),0==l?n.className="slideshow-item slideshow-selected":n.className="slideshow-item",n.innerHTML=l+1,r.appendChild(n);r.className="slideshow-list-point-after-"+o,a[0].appendChild(r),t.initFuc()},initFuc:function(){var e=this;$(".slideshow").mouseover(function(){e.clearCount(),e.liNum>1&&($(".slideshow-btn-right").show(),$(".slideshow-btn-left").show())}),$(".slideshow").mouseout(function(){null==e.stop,$(".slideshow-btn-right").hide(),$(".slideshow-btn-left").hide()}),$(".slideshow-btn-left").click(function(){e.clearCount(),e.huan(-1)}),$(".slideshow-btn-right").click(function(){e.clearCount(),e.huan(1)}),$(".slideshow-item").click(function(){e.clearCount(),e.num=Number($(this).text())-1,e.xiaoguo2(e.num)})},dida:function(){var e=this;e.count>=1&&(e.stop=setInterval(function(){e.num++,e.num>e.count&&(e.num=0),e.xiaoguo2(e.num)},e.playtime))},clearCount:function(){var e=this;window.clearInterval(e.stop),e.stop=null},xiaoguo:function(e){var t=this;$(".slideshow-item").css({"background-color":"#808080"}),$(".slideshow-item").eq(e).css({"background-color":"#b61b1f"}),$(".slideshow-box").animate({"margin-left":-e*t.width+"px"},0,function(){e==t.count&&$(".box").css({"margin-left":"0px"})})},xiaoguo2:function(e){var t=this;$(".slideshow-item").css({"background-color":"#808080"}),$(".slideshow-item").eq(e).css({"background-color":"#b61b1f"}),$(".slideshow-box").animate({"margin-left":-e*t.width+"px"},500,function(){e==t.count&&$(".box").css({"margin-left":"0px"})})},huan:function(e){var t=this;t.num+=e,t.num<0&&(t.num=t.count),t.num>t.count&&(t.num=0),t.xiaoguo(t.num)},getVersion:function(){var e;try{e=s.thsPassport.get("sid")}catch(t){e="7,10101111011,40;44,11,40;6,1,40;5,1,40;"}var t=e.split(";"),a={};for(i in t){var o=t[i].split(",")[0];if(o){var n=t[i].split(",")[1],r=n.split("");for(j in r){var l=r[j],c=o+":"+(parseInt(j)+1);a[c]=parseInt(l)}}}var d="base";return 1==a["58:4"]&&a["8:13"]?"referintell":1==a["36:16"]&&a["8:13"]?"lightning":1==a["36:1"]&&a["36:16"]?"base":1==a["36:1"]&&a["8:13"]?"cloud":1==a["36:1"]?"thousand":d},getElementsByClassName:function(e,t){var a=this;if(e.getElementsByClassName)return e.getElementsByClassName(t);for(var i,s=e.getElementsByTagName("*"),o=[],n=0;i=s[n];n++)a.hasClassName(i,t)&&o.push(i);return o},hasClassName:function(e,t){var a=e.className,i=a.split(/\s+/),s=0;for(s in i)if(i[s]==t)return!0;return!1}};a.exports=o}),define("info/info.js",["public/public.js","public/clientapi.js","public/clientcache.js","public/storage.js"],function(e,t,a){var s=e("public/public.js"),o=e("public/clientapi.js"),n=e("public/clientcache.js"),r=e("public/storage.js"),l={advObejct:"",Version:null,today:"",loadTabInterval:"",init:function(){var e=this;e.version=e.getVersion(),e.today=o.serverTime("-"),$(".tab_menu ul li").unbind("click").on("click",function(){$(this).addClass("on").siblings().removeClass("on");var t=$(this).index();$(".tab_box > div").eq(t).show().siblings().hide(),1==t?e.loadCourseInfo():e.loadTabInfo()}),e.advObejct={thousand:{top:527,buy:538,xufei:539,leveltwo:540,jdal:541,jrjq:542,three:1236},lightning:{top:916,buy:529,xufei:528,leveltwo:530,jdal:531,jrjq:532,three:1236},base:{top:913,buy:512,xufei:510,leveltwo:513,jdal:514,jrjq:515,three:1236},cloud:{top:917,buy:524,xufei:523,leveltwo:525,jdal:526,jrjq:527,three:1236},referintell:{top:915,buy:534,xufei:533,leveltwo:535,jdal:536,jrjq:537,three:1236}},setTimeout(function(){e.initSecond()},200)},initSecond:function(){var e=this;e.loadAndRenderUserName(),e.loadAndRenderUserLeftDays(),e.loadTabInfo(),e.loadTabInterval=setInterval(function(){e.loadTabInfo()},6e4)},clearLoadTabInterval:function(){var e=this;window.clearInterval(e.loadTabInterval)},loadAndRenderUserName:function(){try{var e=o.thsPassport.get("userid");e="http://u.thsi.cn/avatar/"+Number(e)%1e4+"/"+e+".gif",$(".portrait").attr("src",e),$("#username").html(o.thsPassport.get("account"))}catch(e){$("#username").html("用户")}},loadAndRenderUserLeftDays:function(){var e=n.getCache("userLeftDays");e?($("#leftDays").html(e.leftDays),$("#leftDate").html(e.leftDate)):setTimeout(function(){$.clientAjax({url:"http://sp.10jqka.com.cn/ca/userpro/getleftdays/sid/36",type:"GET",dataType:"jsonp",success:function(e){e.errorcode||($("#leftDays").html(e.result.leftDays),$("#leftDate").html(e.result.leftDate),n.setCache("userLeftDays",e.result))}})},3e3)},loadTabInfo:function(){var e=this,t=[["28-527","28-538","28-539","28-540","28-541","28-542","28-1236"],["28-916","28-529","28-528","28-530","28-531","28-532","28-1236"],["28-913","28-512","28-510","28-513","28-514","28-515","28-1236"],["28-917","28-524","28-523","28-525","28-526","28-527","28-1236"],["28-915","28-534","28-533","28-535","28-536","28-537","28-1236"]];"cloud"==e.version?advsStr=t[3]:"thousand"==e.version?advsStr=t[0]:"referintell"==e.version?advsStr=t[4]:"lightning"==e.version?advsStr=t[1]:"base"==e.version&&(advsStr=t[2]),advsStr=advsStr.join(",");var a="http://sp.10jqka.com.cn/ads/api/get/adinfo/"+advsStr+"/return/jsonp/callback/callback/";$.ajax({url:a,type:"GET",dataType:"jsonp",jsonp:!1,jsonpCallback:"callback",cache:!1,success:function(t){e.xlTabInfo(t)}})},updateNewInfo:function(){var e=this;try{var t=r.getFileContent("read2.log")}catch(e){r.writeFileContent("read2.log","0"),t="0"}try{var a=r.getFileContent("read3.log")}catch(e){r.writeFileContent("read3.log","0"),a="0"}try{var i=r.getFileContent("read4.log")}catch(e){r.writeFileContent("read4.log","0"),i="0"}try{var s=r.getFileContent("read5.log")}catch(e){r.writeFileContent("read5.log","0"),s="0"}try{var o=r.getFileContent("read6.log")}catch(e){r.writeFileContent("read6.log","0"),o="0"}try{var n=r.getFileContent("read7.log")}catch(e){r.writeFileContent("read7.log","0"),n="0"}try{var l=r.getFileContent("read8.log")}catch(e){r.writeFileContent("read8.log","0"),l="0"}var c=e.getFormatDate($("#tab-line-2").attr("data-time")),d=e.getFormatDate($("#tab-line-3").attr("data-time")),u=e.getFormatDate($("#tab-line-4").attr("data-time")),p=e.getFormatDate($("#tab-line-5").attr("data-time")),h=e.getFormatDate($("#tab-line-6").attr("data-time")),f=e.getFormatDate($("#tab-line-7").attr("data-time")),m=e.getFormatDate($("#tab-line-8").attr("data-time"));t===!1||"0"==t?$("#tab-line-2 .message-tip").addClass("message-icon-new"):t<c?(r.writeFileContent("read2.log","0"),$("#tab-line-2 .message-tip").addClass("message-icon-new")):$("#tab-line-2 .message-tip").removeClass("message-icon-new"),a===!1||"0"==a?$("#tab-line-3 .message-tip").addClass("message-icon-new"):a<d?($("#tab-line-3 .message-tip").addClass("message-icon-new"),r.writeFileContent("read3.log","0")):$("#tab-line-3 .message-tip").removeClass("message-icon-new"),i===!1||"0"==i?$("#tab-line-4 .message-tip").addClass("message-icon-new"):i<u?($("#tab-line-4 .message-tip").addClass("message-icon-new"),r.writeFileContent("read4.log","0")):$("#tab-line-4 .message-tip").removeClass("message-icon-new"),s===!1||"0"==s?$("#tab-line-5 .message-tip").addClass("message-icon-new"):s<p?($("#tab-line-5 .message-tip").addClass("message-icon-new"),r.writeFileContent("read5.log","0")):$("#tab-line-5 .message-tip").removeClass("message-icon-new"),o===!1||"0"==o?$("#tab-line-6 .message-tip").addClass("message-icon-new"):o<h?($("#tab-line-6 .message-tip").addClass("message-icon-new"),r.writeFileContent("read6.log","0")):$("#tab-line-6 .message-tip").removeClass("message-icon-new"),n===!1||"0"==n?$("#tab-line-7 .message-tip").addClass("message-icon-new"):n<f?($("#tab-line-7 .message-tip").addClass("message-icon-new"),r.writeFileContent("read7.log","0")):$("#tab-line-7 .message-tip").removeClass("message-icon-new"),l===!1||"0"==l?$("#tab-line-8 .message-tip").addClass("message-icon-new"):l<m?($("#tab-line-8 .message-tip").addClass("message-icon-new"),r.writeFileContent("read8.log","0")):$("#tab-line-8 .message-tip").removeClass("message-icon-new"),e.sortByTime()},sortByTime:function(){var e,t=$(".message-order"),a=new Array;for(e=0;e<t.length;e++)a[e]={time:t.eq(e).attr("data-time"),id:t.eq(e).attr("id")};a.sort(function(e,t){return t.time.localeCompare(e.time)});var i="";i+='<div class="message-tab-line" id="tab-line-0">'+$("#tab-line-0").html()+"</div>",i+='<div class="message-tab-line" id="tab-line-1">'+$("#tab-line-1").html()+"</div>";for(var e=0;e<a.length;e++)i+='<div class="message-tab-line message-order" id="'+a[e].id+'" data-time="'+a[e].time.substr(0,a[e].time.length)+'">'+$("#"+a[e].id).html()+"</div>";$(".message-tab").eq(0).html(i)},xlTabInfo:function(e){var t=this;0==e.errorcode&&"object"==typeof e.result&&$.each(e.result,function(e,a){switch(parseInt(a.case_id)){case t.advObejct[t.version].top:$("#ad_top").unbind("click").on("click",function(){window.open(a.data.ad[0].ad_url)}),$("#ad_top").html(a.data.ad[0].text),$("#ad_top").css("cursor","pointer");break;case t.advObejct[t.version].buy:$("#buylabel").unbind("click").on("click",function(){TA.log({id:"l2sy_57d61d69_510"}),window.open(a.data.ad[0].ad_url)}),$("#buylabel").html(a.data.ad[0].text),$("#buylabel").css("cursor","pointer");break;case t.advObejct[t.version].xufei:$(".lijixufei").eq(0).unbind("click").on("click",function(){TA.log({id:"l2sy_57d61d87_248"}),window.open(a.data.ad[0].ad_url)}),$(".lijixufei").eq(0).html(a.data.ad[0].text);break;case t.advObejct[t.version].leveltwo:$("#message_a_0").die("click").live("click",function(){TA.log({id:"l2sy_57d61e1d_489"}),window.open(a.data.ad[0].ad_url)}),$("#tab-line-0 .message-tab-line-right-title").eq(0).html(a.data.ad[0].text).css("cursor","pointer"),$("#tab-line-0 .message-tab-line-right-span").eq(0).html(a.data.ad[0].name),$("#message_a_1").die("click").live("click",function(){TA.log({id:"l2sy_57d61e3d_145"}),window.open(a.data.ad[1].ad_url)}),$("#tab-line-1 .message-tab-line-right-title").eq(0).html(a.data.ad[1].text).css("cursor","pointer"),$("#tab-line-1 .message-tab-line-right-span").eq(0).html(a.data.ad[1].name);break;case t.advObejct[t.version].jdal:$("#message_a_6").die("click").live("click",function(){TA.log({id:"l2sy_57d62135_745"}),$("#tab-line-6 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read6.log",t.getFormatDate($("#tab-line-6").attr("data-time"))),window.open(a.data.ad[0].ad_url)}),$("#tab-line-6").attr("data-time",a.data.ad[0].mtime),$("#tab-line-6 .message-tab-line-right-title").eq(0).html(a.data.ad[0].text).css("cursor","pointer"),$("#tab-line-6 .message-tab-line-title").eq(0).html(a.data.ad[0].name.substr(0,4));var i=t.today==a.data.ad[0].mtime.substr(0,10)?a.data.ad[0].mtime.substr(11,5):a.data.ad[0].mtime.substr(5,5);$("#tab-line-6 .message-time").eq(0).html(i),$("#message_a_7").die("click").live("click",function(){TA.log({id:"l2sy_57d62159_502"}),$("#tab-line-7 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read7.log",t.getFormatDate($("#tab-line-7").attr("data-time"))),window.open(a.data.ad[1].ad_url)}),$("#tab-line-7").attr("data-time",a.data.ad[1].mtime),$("#tab-line-7 .message-tab-line-right-title").eq(0).html(a.data.ad[1].text).css("cursor","pointer"),$("#tab-line-7 .message-tab-line-title").eq(0).html(a.data.ad[1].name.substr(0,4));var i=t.today==a.data.ad[1].mtime.substr(0,10)?a.data.ad[1].mtime.substr(11,5):a.data.ad[1].mtime.substr(5,5);$("#tab-line-7 .message-time").eq(0).html(i),$("#message_a_8").die("click").live("click",function(){TA.log({id:"l2sy_57d6217b_45"}),$("#tab-line-8 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read8.log",t.getFormatDate($("#tab-line-8").attr("data-time"))),window.open(a.data.ad[2].ad_url)}),$("#tab-line-8").attr("data-time",a.data.ad[2].mtime),$("#tab-line-8 .message-tab-line-right-title").eq(0).html(a.data.ad[2].text).css("cursor","pointer"),$("#tab-line-8 .message-tab-line-title").eq(0).html(a.data.ad[2].name.substr(0,4));var i=t.today==a.data.ad[2].mtime.substr(0,10)?a.data.ad[2].mtime.substr(11,5):a.data.ad[2].mtime.substr(5,5);$("#tab-line-8 .message-time").eq(0).html(i);break;case t.advObejct[t.version].jrjq:$("#message_a_3").die("click").live("click",function(){TA.log({id:"l2sy_57d61f99_928"}),$("#tab-line-3 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read3.log",t.getFormatDate($("#tab-line-3").attr("data-time"))),window.open(a.data.ad[0].ad_url)}),$("#tab-line-3").attr("data-time",a.data.ad[0].mtime),$("#tab-line-3 .message-tab-line-right-title").eq(0).html(a.data.ad[0].name).css("cursor","pointer"),$("#tab-line-3 .message-tab-line-title").eq(0).html("投资秘籍");var i=t.today==a.data.ad[0].mtime.substr(0,10)?a.data.ad[0].mtime.substr(11,5):a.data.ad[0].mtime.substr(5,5);$("#tab-line-3 .message-time").eq(0).html(i);break;case t.advObejct[t.version].three:$("#message_a_4").die("click").live("click",function(){TA.log({id:"l2sy_57d61e8a_838"}),$("#tab-line-4 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read4.log",t.getFormatDate($("#tab-line-4").attr("data-time"))),window.open(a.data.ad[0].ad_url)}),$("#tab-line-4").attr("data-time",a.data.ad[0].mtime),$("#tab-line-4 .message-tab-line-right-title").eq(0).html(a.data.ad[0].text).css("cursor","pointer"),$("#tab-line-4 .message-tab-line-title").eq(0).html(a.data.ad[0].name.substr(0,4));var i=t.today==a.data.ad[0].mtime.substr(0,10)?a.data.ad[0].mtime.substr(11,5):a.data.ad[0].mtime.substr(5,5);$("#tab-line-4 .message-time").eq(0).html(i),$("#message_a_5").die("click").live("click",function(){TA.log({id:"l2sy_57d61f2e_270"}),$("#tab-line-5 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read5.log",t.getFormatDate($("#tab-line-5").attr("data-time"))),window.open(a.data.ad[1].ad_url)}),$("#tab-line-5").attr("data-time",a.data.ad[1].mtime),$("#tab-line-5 .message-tab-line-right-title").eq(0).html(a.data.ad[1].text).css("cursor","pointer"),$("#tab-line-5 .message-tab-line-title").eq(0).html(a.data.ad[1].name.substr(0,4));var i=t.today==a.data.ad[1].mtime.substr(0,10)?a.data.ad[1].mtime.substr(11,5):a.data.ad[1].mtime.substr(5,5);$("#tab-line-5 .message-time").eq(0).html(i),$("#message_a_2").die("click").live("click",function(){TA.log({id:"l2sy_57d61ecf_544"}),$("#tab-line-2 .message-tip").removeClass("message-icon-new"),r.writeFileContent("read2.log",t.getFormatDate($("#tab-line-2").attr("data-time"))),window.open(a.data.ad[2].ad_url)}),$("#tab-line-2").attr("data-time",a.data.ad[2].mtime),$("#tab-line-2 .message-tab-line-right-title").eq(0).html(a.data.ad[2].text).css("cursor","pointer"),$("#tab-line-2 .message-tab-line-title").eq(0).html(a.data.ad[2].name.substr(0,4));var i=t.today==a.data.ad[2].mtime.substr(0,10)?a.data.ad[2].mtime.substr(11,5):a.data.ad[2].mtime.substr(5,5);$("#tab-line-2 .message-time").eq(0).html(i)}}),t.updateNewInfo()},loadCourseInfo:function(){var e="http://school.10jqka.com.cn/interface/getVideoList/params/limit/1/callback/courseExcellent/cateid/368/";s.ajaxJsonp({url:e,type:"GET",jsonpCallback:"courseExcellent",cache:!0,callback:function(e){e.length>0&&($(".course-tab-line-title").eq(0).html(e[0].title),$(".course-tab-line-title").eq(0).off("click"),$(".course-tab-line-title").eq(0).on("click",function(){TA.log({id:"l2sy_57d62261_685"}),window.open(e[0].url)}))}})},getVersion:function(){var e;try{e=o.thsPassport.get("sid")}catch(t){e="7,10101111011,40;44,11,40;6,1,40;5,1,40;"}var t=e.split(";"),a={};for(i in t){var s=t[i].split(",")[0];if(s){var n=t[i].split(",")[1],r=n.split("");for(j in r){var l=r[j],c=s+":"+(parseInt(j)+1);a[c]=parseInt(l)}}}var d="base";return 1==a["58:4"]&&a["8:13"]?"referintell":1==a["36:16"]&&a["8:13"]?"lightning":1==a["36:1"]&&a["36:16"]?"base":1==a["36:1"]&&a["8:13"]?"cloud":1==a["36:1"]?"thousand":d},getFormatDate:function(e){var t=e.substr(0,4),a=e.substr(5,2),i=e.substr(8,2),s=e.substr(11,2),o=e.substr(14,2),n=e.substr(17,2);return t+a+i+s+o+n}};a.exports=l}),define("public/public.js",["public/clientapi.js"],function(e,t,a){var i=e("public/clientapi.js"),s={ajaxJson:function(e){var t={type:"GET",url:"",data:{},cache:!1,callback:""},a=$.extend(t,e);$.ajax({type:a.type,url:a.url,data:a.data,cache:a.cache,dataType:"json",success:function(e){a.callback(e)},error:function(e){a.callback({})}})},ajaxJsonp:function(e){var t={url:"",data:{},cache:!1,jsonpCallback:"",callback:""},a=$.extend(t,e);$.ajax({type:"GET",url:a.url,data:a.data,cache:a.cache,dataType:"jsonp",jsonp:!1,jsonpCallback:a.jsonpCallback,success:function(e){a.callback(e)},error:function(e){a.callback({})}})},getTradeDayAndNextTradeDay:function(e){var t=i.serverTime(),a=i.serverHour();this.ajaxJsonp({url:"http://sp.10jqka.com.cn/api/tradeday/get/date/"+t+"/offset/3/isrange/1/return/jsonp/callback/gettradeday/",jsonpCallback:"gettradeday",callback:function(i){var s,o;0===i.errorcode&&(a>="1500"&&t>=i.result[0]?(s=i.result[1],o=i.result[2]):(s=i.result[0],o=i.result[1]),e(s,o))}})},throttle:function(e,t,a){t=t||250;var i,s;return function(){var o=a||this,n=+new Date,r=arguments;if(i&&n-i<t){clearTimeout(s);var l=t-(n-i);s=setTimeout(function(){i=+new Date,e.apply(o,r)},l)}else i=n,e.apply(o,r)}}};a.exports=s}),define("public/clientopen.js",["public/clientapi.js"],function(e,t,a){var i=e("public/clientapi.js"),s={switchPage:function(e){var t=e.toString(),a=t.split("|");e=a[0];var s=a[1]?a[1]:"";e=parseInt(e);var o="";try{o=""===s||6!==s.length?{id:e,code:"600000",scheme:""}:{id:e,code:s,scheme:""},i.thsQuote.switchPage(o)}catch(e){}},openClientTopFrame:function(e){try{i.thsUtil.showWebDlg({url:e,modeless:1})}catch(e){}},openClientApp:function(e){try{i.thsUtil.postCommandByName(e)}catch(e){}},openByClientBlueBrowser:function(e){try{i.thsUtil.openURL(e,3)}catch(e){}},openByClientBrowser:function(e){try{i.thsUtil.openURL(e,2)}catch(e){}},openUrl:function(e){try{i.thsUtil.openURL(e,4)}catch(e){}},openClientAppNew:function(e){try{i.thsUtil.postCommand(1,e)}catch(e){}},switchCode:function(e){try{i.thsQuote.switchCode(e)}catch(e){}},switchToKLine:function(e){location.href="hxa://hexin.exe 'opt=13&param="+e+"|1'"},openByZxFrame:function(e){try{i.thsUtil.openURL(e,1)}catch(e){}},openAppAddFrame:function(e){try{i.thsUtil.openAppCenterIndexDlg(e)}catch(e){}},switchPageAndSelectTab:function(e){var t=e.split("|")[0]||"",a=e.split("|")[1]||"";if(i.getClientVersion()>="84080")i.thsQuote.switchPage({id:t,tabname:a,code:"600000"});else try{i.thsQuote.switchPage(t),setTimeout(function(){i.thsQuote.switchTab(a)},500)}catch(e){}},openAppAddFrame:function(e){try{i.thsUtil.openAppCenterIndexDlg(e)}catch(e){}},openApp:function(e,t){t=parseInt(t);var a=this;switch(t){case 1:a.switchPage(e);break;case 2:a.openClientTopFrame(e);break;case 3:a.openClientApp(e);break;case 4:a.openByClientBlueBrowser(e);break;case 5:a.openUrl(e);break;case 6:a.openClientAppNew(e);break;case 7:a.openClientTopFrame(e);break;case 8:try{i.versionCompare(i.version,i.version60)?i.versionCompare(i.version,i.version42)?a.openClientTopFrame(e):a.openAppAddFrame(e):i.thsUtil.openNoFrameWebDlg(e)}catch(t){i.versionCompare(i.version,i.version42)?a.openClientTopFrame(e):a.openAppAddFrame(e)}break;case 9:a.switchCode(e);break;case 10:a.switchToKLine(e);break;case 11:a.switchPageAndSelectTab(e);break;default:return!1}}};a.exports=s}),define("public/storage.js",[],function(require,exports,module){var userPath=null,thsRobotPath=null,fis=null,fos=null;try{userPath=external.getUserPath(),thsRobotPath=userPath+"level2_vote\\",fis=external.createObject("FileInputStream"),fos=external.createObject("FileOutputStream")}catch(e){}var clientData={getFileContent:function(file){if(null===fis)return!1;var str=!1;if(fis.open(thsRobotPath+file)){try{str=fis.readDes()}catch(e){}fis.close()}return!1!==str&&eval("("+str+")")},writeFileContent:function(e,t){var a="";if(null===fos)return!1;if(fos.open(thsRobotPath+e)){try{a=fos.writeDes(t)}catch(e){}fos.close()}}};module.exports=clientData}),define("stocks/ipo.js",["public/clientapi.js"],function(e,t,a){var i=e("public/clientapi.js"),s={init:function(){this.request()},request:function(){var e=this,t="/zx/freeclient/homepage/xgsg.json";i.thsQuote.requestZxData({url:t,onready:function(t){"[]"==t?e.render(""):e.render(t)}})},render:function(e){if(""!=e){var t=JSON.parse(e),a=t.data,s=[];if(a.length){a.reverse();var o="",n=i.serverTime();$.each(a,function(e,t){var a;a=t.date==n?'<a href="###" class="icon apply-btn"></a>':t.date.substr(4,2)+"-"+t.date.substr(6,2),o='<tr data-code=""><td class="txt-c col70">'+t.name+'</td><td class="txt-c col60">'+a+'</td><td class="txt-c col70">'+t.stockcode+'</td><td class="col60 pdr12">'+t.price+'</td><td class="col65 pdr18">'+Math.floor(t.number)+"</td></tr>",s.push(o)}),$("#ipo_container").html(s.join(""))}else s='<tr><td style="text-align:center;height: 124px;">当前暂无新股申购</td></tr>',$("#ipo_container").html(s)}else s='<tr><td style="text-align:center;height: 124px;">当前暂无新股申购</td></tr>',$("#ipo_container").html(s)}};a.exports=s}),define("public/clientquote.js",["public/public.js"],function(require,exports,module){function ReqQuote(){this.quote="NEW, ZHANGDIEFU",this.period="now",this.init.apply(this,arguments)}var publicBase=require("public/public.js");try{var indexQuoteObj=external.createObject("Quote"),futuresQuoteObj=external.createObject("Quote")}catch(e){alert("need in client")}ReqQuote.prototype={init:function(e){this.stocks=e.stocks,this.quote=e.quote||this.quote,this.period=e.period||this.period,this.callback=e.callback,this.inPage=!0,this.isNeedPush=e.isNeedPush||!1,this.hqData={};try{this.thsQuote=1==e.qType?futuresQuoteObj:indexQuoteObj}catch(e){alert("need in client")}},request:function(){var e=this,t=this.stocks,a=this.quote,i={code:this.stocks,type:this.quote,period:this.period,onready:function(i){e.getData(t,a)}};e.thsQuote.request(i),e.isNeedPush&&e.resisterPush(t)},resisterPush:function(e){var t=this;e=e||t.stocks,t.thsQuote.registerPush({code:e,onready:publicBase.throttle(t.getData,3800,t)})},unregisterPush:function(){this.thsQuote.unregisterPush()},getData:function(stocks,type){var self=this;stocks=self.stocks,type=self.quote;var params={code:stocks,mode:"maexact",type:type},rstData=self.thsQuote.getData2(params);rstData=eval("("+rstData+")"),self.callback(rstData)}},module.exports=ReqQuote}),define("chart/drawchart.js",[],function(require,exports,module){var drawChart={chartPie:function(content,data,title){0===eval(data.join("+"))&&data.push(1),$("."+content).highcharts({chart:{type:"pie",backgroundColor:"rgba(0,0,0,0)",plotShadow:!1,style:{fontFamily:"arial, Microsoft yahei"}},credits:{enabled:!1},title:{text:title,verticalAlign:"middle",useHTML:!0,y:4,style:{color:"#c0c0c0",fontSize:"12px",fontFamily:"arial, Microsoft yahei"}},tooltip:{enabled:!1,backgroundColor:"#000",style:{color:"#fff"},userHTML:!0,formatter:function(){return"<p>"+this.key+":"+this.y+"</p>"}},pane:{background:{}},plotOptions:{pie:{size:74,borderWidth:4,innerSize:52,colors:["#ff3232","#01d600","#5a5b5a","#5a5b5a"],borderColor:"#242529",dataLabels:{enabled:!1}}},series:[{startAngle:0,data:data,states:{hover:{enabled:!1}}}]})},chartColumn:function(e,t,a){for(var i=Math.max.apply(null,t)+200,s=!0,o=0,n=0;n<t.length-1;n++)o+=t[n];0==o&&(s=!1);var r=!1;a&&""!=a&&(r=!0),$("#"+e).highcharts({credits:{enabled:!1},title:{text:""},chart:{backgroundColor:"rgba(0,0,0,0)",style:{fontFamily:"arial"},marginLeft:36,marginBottom:24},series:[{name:"涨跌停",type:"column",marker:{enabled:!1},data:t}],plotOptions:{column:{borderWidth:0,pointPlacement:"between",colorByPoint:!0,colors:["#ff3232","#ff3232","#ff3232","#ff3232","#ff3232","#00e600","#00e600","#00e600","#00e600","#00e600"]},series:{dataLabels:{enabled:s,color:"#808080",style:{fontWeight:"normal",textShadow:"null"},backgroundColor:null,shadow:!1,y:4}}},labels:{style:{fontFamily:"simsun",fontSize:12}},xAxis:{tickmarkPlacement:"on",lineWidth:1,tickLength:4,lineColor:"#808080",tickColor:"#808080",useHtml:!0,tickInterval:1,title:{text:""},categories:["涨停","9","5","3","1","0","-1","-3","-5","-9","跌停"],gridLineWidth:0,labels:{align:"center",rotation:"0",style:{color:"#afafaf",fontFamily:"simsun",fontSize:12},useHTML:!0,formatter:function(){return this.value>0||"涨停"===this.value?'<span style="color:#ff3232">'+this.value+"</span>":"0"===this.value?this.value:'<span style="color:#00e600">'+this.value+"</span>"}}},yAxis:{lineWidth:1,tickColor:"#808080",tickPosition:"outside",gridLineWidth:0,tickLength:4,tickWidth:1,title:{text:""},lineColor:"#808080",labels:{format:"{value}",style:{color:"#afafaf"},x:-7},max:i},legend:{enabled:!1},tooltip:{enabled:r,backgroundColor:"#535559",style:{color:"#fff",padding:4,fontSize:12},shadow:!1,borderRadius:0,borderColor:"#242529",formatter:function(){for(var e=this.x,t=["涨停","9","5","3","1","0","-1","-3","-5","-9","跌停"],i=-1,s=0;s<t.length;s++)t[s]==e&&(i=s);if(a&&""!==a){var o=a[i].zb,n=a[i].zxb,r=a[i].cyb;return"<span>主板："+o+"</span><br/><span>中小："+n+"</span><br/><span>创业："+r+"</span>"}}}})}};module.exports=drawChart}),define("public/clientcache.js",["public/clientapi.js"],function(e,t,a){var i=(e("public/clientapi.js"),{_cacheExpires:600,_cacheKeyPre:"__l2homepage",_cacheExpiresPre:"__expires",_thsCache:external.createObject("Cache"),setCacheExpires:function(e){var t=this;parseInt(e)>0&&(t._cacheExpiresPre=parseInt(e))},setCache:function(e,t,a){var i=this,s=i.getCacheKey(e),o=$.toJSON(t);i._thsCache.setValue(s,o),a=parseInt(a)>0?parseInt(a):i._cacheExpiresPre;var n=getExpiresKey(e),r=(new Date).getTime()+1e3*a;i._thsCache.setValue(n,r)},getCacheKey:function(e){var t=this;return t._cacheKeyPre+"."+e},getExpiresKey:function(e){var t=this;return t._cacheKeyPre+"."+e+"."+t._cacheExpiresPre},getCache:function(e){var t=this,a=t._thsCache.getValue(t.getExpiresKey(e));return(new Date).getTime()>a?void 0:$.evalJSON(t._thsCache.getValue(t.getCacheKey(e)))}});a.exports=i});